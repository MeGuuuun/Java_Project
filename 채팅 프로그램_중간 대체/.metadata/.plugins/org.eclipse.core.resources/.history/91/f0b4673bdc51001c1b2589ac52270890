import java.io.DataOutputStream;
import java.io.OutputStream;
import java.net.*;

public class ChatSend {
	Socket socket;
	Server server;
	String msg;
	
	
	ChatSend(Socket _s,Server _ss, String _m){
		socket = _s;
		server = _ss;
		msg = _m;
		
		String uName;
		
		OutputStream outStream = socket.getOutputStream();
		DataOutputStream dataOutStream = new DataOutputStream(outStream);
		
		for(int i=0;i<server.clients.size();i++) {
			if(!(uName.equals(server.clients.get(i).uName))){ //동일한 유저 = 나 자신을 제외한 나머지 모든 클라이언트에게 보내는 조건 
				outStream = server.clients.get(i).socket.getOutputStream(); //outStream 갱신
				dataOutStream = new DataOutputStream(outStream);
				dataOutStream.writeUTF(uName + " sent : " + msg); //클라이언트에게 받은 메세지 출력 
			}
		}
	}
}

