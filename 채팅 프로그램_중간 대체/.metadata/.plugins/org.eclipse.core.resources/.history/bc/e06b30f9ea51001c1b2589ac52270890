import java.io.DataOutputStream;
import java.io.OutputStream;
import java.net.*;

public class ChatSend {
	Socket mySocket;
	Server server;
	String msg;
	
	ChatSend(Socket _s,Server _ss, String _m){
		mySocket = _s;
		server = _ss;
		msg = _m;
		
		try {
			OutputStream outStream = mySocket.getOutputStream();
			DataOutputStream dataOutStream = new DataOutputStream(outStream);
			
			System.out.println("ChatSend : " + msg);
			
			for(int i=0;i<server.clients.size();i++) {
				outStream = server.clients.get(i).socket.getOutputStream(); //outStream 갱신
				dataOutStream = new DataOutputStream(outStream);
				dataOutStream.writeUTF(msg); //클라이언트에게 받은 메세지 출력 
			}
		}catch(Exception e) {
			System.out.println("Server > 채팅 전송 실패 ");
		}
		
	}
}