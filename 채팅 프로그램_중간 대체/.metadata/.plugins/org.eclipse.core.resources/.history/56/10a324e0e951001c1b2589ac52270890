import java.io.DataOutputStream;
import java.io.OutputStream;
import java.net.*;

public class ChatSend {
	Socket mySocket;
	Server server;
	String msg;
	
	ChatSend(Socket _s,Server _ss, String _m){
		mySocket = _s;
		server = _ss;
		msg = _m;
		
		try {
			OutputStream outStream = mySocket.getOutputStream();
			DataOutputStream dataOutStream = new DataOutputStream(outStream);
			
			for(int i=0;i<server.clients.size();i++) {
				if(!(mySocket.equals(server.clients.get(i).socket))){ //동일한 유저 = 나 자신을 제외한 나머지 모든 클라이언트에게 보내는 조건 
					outStream = server.clients.get(i).socket.getOutputStream(); //outStream 갱신
					dataOutStream = new DataOutputStream(outStream);
					dataOutStream.writeUTF(msg); //클라이언트에게 받은 메세지 출력 
				}
			}
		}catch(Exception e) {
			System.out.println("Server > 채팅 전송 실패 ");
		}
		
	}
}