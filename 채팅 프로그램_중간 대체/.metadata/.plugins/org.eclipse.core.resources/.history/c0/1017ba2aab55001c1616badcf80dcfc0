import java.net.*;
import java.io.*;
import java.util.*;

public class SocketChecker {
	Socket socket;
	Server server;
	String uName;
	
	String connectTag = "CONNECTED";
	String unconnectTag = "UNCONNECTED";
	
	SocketChecker(Socket _s, Server _ss,String _m){
		socket = _s;
		server = _ss;
		uName = _m;
	
	if(socket.isClosed()) {
		
		try {
			OutputStream os = socket.getOutputStream();
			DataOutputStream dos = new DataOutputStream(os);
			
			dos.writeUTF(unconnectTag+"!"+uName);
		}catch(Exception e) {
			System.out.println("Server > 소켓 접속 확인 전송 실패 ");
		}
	}else {
		try {
			OutputStream os = socket.getOutputStream();
			DataOutputStream dos = new DataOutputStream(os);
			
			dos.writeUTF(connectTag+"!"+uName);
		}catch(Exception e) {
			System.out.println("Server > 소켓 접속 확인 전송 실패 ");
		}
	}
	
	}
}
