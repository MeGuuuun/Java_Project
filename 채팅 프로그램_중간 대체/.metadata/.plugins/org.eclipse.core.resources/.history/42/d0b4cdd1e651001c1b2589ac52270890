import java.io.*;
import java.net.*;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class NameFrame extends JFrame {
	
	Socket socket;
	String msg;
	
	JPanel panel = new JPanel(new BorderLayout());
	JPanel mainPanel = new JPanel(new BorderLayout());
	JPanel btnPanel = new JPanel();
	JLabel name = new JLabel("닉네임을 입력하시오. : ");
	JTextField typeName = new JTextField();
	JButton ok = new JButton("OK");
	
	String nameTag = "NAME";
	
	NameFrame(Socket _s){
		socket = _s;
		
		MyActionListener ml = new MyActionListener();
		
		setContentPane(panel);
		panel.add(mainPanel, BorderLayout.CENTER);
		panel.add(btnPanel, BorderLayout.SOUTH);
		
		mainPanel.add(name,BorderLayout.NORTH);
		mainPanel.add(typeName);
		
		btnPanel.add(ok);
		
		name.setPreferredSize(new Dimension(200,40));
		typeName.setPreferredSize(new Dimension(160,30));
		ok.setPreferredSize(new Dimension(70,30));
		
		setSize(300,150);
		setResizable(false);
		
		Dimension frameSize = this.getSize(); // 프레임 사이즈를 가져오기
		Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize(); //모니터 크기 가져오는 코드 
		this.setLocation((screenSize.width - frameSize.width) / 2, (screenSize.height - frameSize.height) / 2);
	}
	
	class MyActionListener implements ActionListener{
		public void actionPerformed(ActionEvent e) {
			JButton b = (JButton) e.getSource();
			
			if(b.getText().equals("OK")) {
				String name = typeName.getText();
				Client c = new Client();
				c.uName = name;
				ChatFrame cf = new ChatFrame(socket, name);
				cf.setVisible(true);
				setVisible(false);
			}
		}
	}
}
